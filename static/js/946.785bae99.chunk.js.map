{"version":3,"file":"static/js/946.785bae99.chunk.js","mappings":"iRAEaA,EAAYC,EAAAA,GAAAA,GAAH,yCAITC,EAAYD,EAAAA,GAAAA,GAAH,0FAMTE,EAAYF,EAAAA,GAAAA,GAAH,+IASTG,EAAaH,EAAAA,GAAAA,EAAH,0DAKVI,EAAYJ,EAAAA,GAAAA,OAAH,iH,SC4CtB,EAxDa,WACX,OAA4BK,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAwCF,EAAAA,EAAAA,UAAS,OAAjD,eAAOG,EAAP,KAAqBC,EAArB,KA6BA,OAjBAC,EAAAA,EAAAA,YAAU,WACJC,aAAaC,QAAQ,iBACvBH,EAAgBE,aAAaC,QAAQ,iBAEvC,IAAMC,EAAS,mCAAG,uGACKC,EAAAA,EAAAA,GAAM,GAAD,OArBvB,gDAqBuB,OAAUN,EAAV,oBAtBhB,qCAqBM,OACVO,EADU,OAEVC,EAAWD,EAAOE,KAAKC,QAAQC,KACnC,kBAAiC,CAC/BC,GADF,EAAGA,GAEDC,MAFF,EAAOA,MAGLC,YAHF,EAAcA,YAAd,IAMFf,EAAUS,GATM,2CAAH,qDAWfH,GACD,GAAE,CAACL,IACCF,GAIH,4BACE,SAACH,EAAD,gDACA,SAACC,EAAD,CAAWmB,QAhCM,WACE,QAAjBf,GACFC,EAAgB,QAChBE,aAAaa,QAAQ,eAAgB,UAC/Bf,EAAgB,OACxBE,aAAaa,QAAQ,eAAgB,OAEtC,EAyBG,uBACA,UAACzB,EAAD,2BAAyBS,MACzB,SAACN,EAAD,UACGI,EAAOa,KAAI,SAAAM,GAAK,OACf,SAACxB,EAAD,WACE,UAAC,KAAD,CAAMyB,GAAE,kBAAaD,EAAML,IAA3B,WACE,gBACEO,IAAG,yCAAoCF,EAAMH,aAC7CM,IAAKH,EAAMJ,QAEZI,EAAMJ,UANKI,EAAML,GADP,UARd,qCAsBV,C","sources":["pages/Home.styled.js","pages/Home.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nexport const TitleHome = styled.h1`\n  margin: 20px;\n`;\n\nexport const MovieItem = styled.li`\n  margin: 10px;\n  list-style: none;\n  width: calc(15% - 20px);\n`;\n\nexport const MovieList = styled.ul`\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n  margin: 20px;\n  padding: 0;\n  justify-content: space-between;\n`;\n\nexport const ChooseText = styled.p`\nmargin: 20px;\nfont-weight: 500;\n`\n\nexport const ChooseBtn = styled.button`\nmargin-left: 20px;\nfont-size: 14px;\nfont-weight: 600;\nbackground-color: greenyellow;\n`","import axios from 'axios';\nimport { useEffect, useState } from 'react';\n// import MovieDetails from './MovieDetails';\nimport { Link } from 'react-router-dom';\nimport {\n  MovieItem,\n  MovieList,\n  TitleHome,\n  ChooseText,\n  ChooseBtn,\n} from './Home.styled';\nconst api_key = 'cbd8bb6ab7443496075b168356471aed';\nconst url = `https://api.themoviedb.org/3/trending/movie/`;\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchPeriod, setSearchPeriod] = useState('day');\n\n\n  const handlePeriod = () => {\n    if (searchPeriod === 'day') {\n      setSearchPeriod('week');\n      localStorage.setItem('searchPeriod', 'week')\n    } else {setSearchPeriod('day')\n    localStorage.setItem('searchPeriod', 'day')\n    };\n  };\n\n  useEffect(() => {\n    if (localStorage.getItem('searchPeriod')) {\n      setSearchPeriod(localStorage.getItem('searchPeriod'));\n    } \n    const fetchData = async () => {\n      const result = await axios(`${url}${searchPeriod}?api_key=${api_key}`);\n      const movieArr = result.data.results.map(\n        ({ id, title, poster_path }) => ({\n          id,\n          title,\n          poster_path,\n        })\n      );\n      setMovies(movieArr);\n    };\n    fetchData();\n  }, [searchPeriod]);\n  if (!movies) {\n    return <b>Loading...</b>;\n  }\n  return (\n    <div>\n      <ChooseText>Choose period for trending film:</ChooseText>\n      <ChooseBtn onClick={handlePeriod}>Day/Week</ChooseBtn>\n      <TitleHome>Trending for {searchPeriod}</TitleHome>\n      <MovieList>\n        {movies.map(movie => (\n          <MovieItem key={movie.id}>\n            <Link to={`/movies/${movie.id}`}>\n              <img\n                src={`https://image.tmdb.org/t/p/w200${movie.poster_path}`}\n                alt={movie.title}\n              />\n              {movie.title}\n            </Link>\n          </MovieItem>\n        ))}\n      </MovieList>\n    </div>\n  );\n};\n\nexport default Home;\n"],"names":["TitleHome","styled","MovieItem","MovieList","ChooseText","ChooseBtn","useState","movies","setMovies","searchPeriod","setSearchPeriod","useEffect","localStorage","getItem","fetchData","axios","result","movieArr","data","results","map","id","title","poster_path","onClick","setItem","movie","to","src","alt"],"sourceRoot":""}