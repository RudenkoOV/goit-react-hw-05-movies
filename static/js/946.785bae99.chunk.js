"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[946],{946:function(e,t,n){n.r(t),n.d(t,{default:function(){return j}});var r,a,i,o,c,s=n(861),l=n(439),d=n(757),p=n.n(d),u=n(243),h=n(791),f=n(87),g=n(168),m=n(444),x=m.ZP.h1(r||(r=(0,g.Z)(["\n  margin: 20px;\n"]))),w=m.ZP.li(a||(a=(0,g.Z)(["\n  margin: 10px;\n  list-style: none;\n  width: calc(15% - 20px);\n"]))),Z=m.ZP.ul(i||(i=(0,g.Z)(["\n  display: flex;\n  gap: 10px;\n  flex-wrap: wrap;\n  margin: 20px;\n  padding: 0;\n  justify-content: space-between;\n"]))),b=m.ZP.p(o||(o=(0,g.Z)(["\nmargin: 20px;\nfont-weight: 500;\n"]))),k=m.ZP.button(c||(c=(0,g.Z)(["\nmargin-left: 20px;\nfont-size: 14px;\nfont-weight: 600;\nbackground-color: greenyellow;\n"]))),y=n(184),j=function(){var e=(0,h.useState)([]),t=(0,l.Z)(e,2),n=t[0],r=t[1],a=(0,h.useState)("day"),i=(0,l.Z)(a,2),o=i[0],c=i[1];return(0,h.useEffect)((function(){localStorage.getItem("searchPeriod")&&c(localStorage.getItem("searchPeriod"));var e=function(){var e=(0,s.Z)(p().mark((function e(){var t,n;return p().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,u.Z)("".concat("https://api.themoviedb.org/3/trending/movie/").concat(o,"?api_key=").concat("cbd8bb6ab7443496075b168356471aed"));case 2:t=e.sent,n=t.data.results.map((function(e){return{id:e.id,title:e.title,poster_path:e.poster_path}})),r(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[o]),n?(0,y.jsxs)("div",{children:[(0,y.jsx)(b,{children:"Choose period for trending film:"}),(0,y.jsx)(k,{onClick:function(){"day"===o?(c("week"),localStorage.setItem("searchPeriod","week")):(c("day"),localStorage.setItem("searchPeriod","day"))},children:"Day/Week"}),(0,y.jsxs)(x,{children:["Trending for ",o]}),(0,y.jsx)(Z,{children:n.map((function(e){return(0,y.jsx)(w,{children:(0,y.jsxs)(f.rU,{to:"/movies/".concat(e.id),children:[(0,y.jsx)("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.poster_path),alt:e.title}),e.title]})},e.id)}))})]}):(0,y.jsx)("b",{children:"Loading..."})}}}]);
//# sourceMappingURL=946.785bae99.chunk.js.map